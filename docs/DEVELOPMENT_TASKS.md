# π“‹ Project X κ°λ° νƒμ¤ν¬ μ²΄ν¬λ¦¬μ¤νΈ (Task Roadmap)

λ³Έ μ²΄ν¬λ¦¬μ¤νΈλ” μ΄μ „μ— μ‘μ„±λ `development_roadmap.md`μ λ§μΌμ¤ν†¤μ„ **μ‹¤μ λ΅ μ½”λ”©ν•  μ μλ” λ‹¨μ„(Session/Task)**λ΅ λ” μκ² μΌκ°  κ²ƒμ…λ‹λ‹¤. 
κ°λ°μ€ μ΄ λ¬Έμ„μ μμ„λ€λ΅(Phase 1 $\rightarrow$ 5) μ§„ν–‰λλ©°, κ° ν•­λ©μ΄ μ™„μ„±λ  λ•λ§λ‹¤ [x] ν‘μ‹λ¥Ό ν•λ©° μ§„μ²™λ„λ¥Ό μ¶”μ ν•©λ‹λ‹¤.

---

## π—οΈ Phase 1: λ°±μ—”λ“ κΈ°μ΄ κ³µμ‚¬ λ° DB μ—°λ™ (Foundation)

- [ ] **1.1 FastAPI ν”„λ΅μ νΈ μ…‹μ—…**
  - [ ] `venv` κ°€μƒν™κ²½ μ„¤μ • λ° ν¨ν‚¤μ§€ μ„¤μΉ (FastAPI, Uvicorn, Beanie, LangChain)
  - [ ] ν”„λ΅μ νΈ λ””λ ‰ν„°λ¦¬ κµ¬μ΅° λΌλ€ κµ¬μ¶• (`routers/`, `models/`, `services/`, `core/`)
  - [ ] `main.py` νμΌ μƒμ„± λ° `/health` μ„λ²„ μƒνƒ μ²΄ν¬ API μ‘μ„±

- [ ] **1.2 λ°μ΄ν„°λ² μ΄μ¤(MongoDB) μ—°κ²° μ—°λ™**
  - [ ] λΉ„λ™κΈ° MongoDB ODM(`Beanie`) μ„¤μ • νμΌ(`core/database.py`) μ‘μ„±
  - [ ] `db_schema.md`λ¥Ό λ°”νƒ•μΌλ΅ `models/player.py`, `models/logs.py` Pydantic λ¨λΈ μ¤ν‚¤λ§ μ •μ

- [ ] **1.3 κΈ°λ³Έ μƒνƒ λ™κΈ°ν™” API κ°λ°**
  - [ ] `POST /v1/player/login` μ—”λ“ν¬μΈνΈ κµ¬ν„ (μ μ € μ ‘μ†/μ΄κΈ°ν™” μ‹ μ¤νƒ― μ΅°ν/μƒμ„± λ΅μ§)
  - [ ] `POST /v1/event/death` μ—”λ“ν¬μΈνΈ κµ¬ν„ (μ‚¬λ§ νλ„ν‹° κ³„μ‚° λ΅μ§)

- [ ] **π¨ 1.4 [TEST] λ°±μ—”λ“ κΈ°μ΄ API λ‹¨μ„ ν…μ¤νΈ**
  - [ ] `pytest` λ° `httpx`λ¥Ό μ΄μ©ν• REST API λ‹¨μ„ λ¨λ“(`test_api.py`) μ‘μ„±
  - [ ] FastAPI μλ™ λ¬Έμ„(Swagger UI)λ¥Ό λ„μ› Postman μ—†μ΄ MongoDB CRUD μ •μƒ μ‘λ™ μλ™ κ²€μ¦

---

## π¤– Phase 2: AI μ—”μ§„ λ° ν”„λ΅¬ν”„νΈ λΌμ°ν… (AI Core)

- [ ] **2.1 LLM κΈ°λ³Έ νμ΄ν”„λΌμΈ μ—°λ™**
  - [ ] OpenAI(λλ” λ΅μ»¬ λ¨λΈ) API ν‚¤ ν™κ²½λ³€μ μ„Έν… (`.env`)
  - [ ] LangChain `ChatOpenAI` κ°μ²΄λ¥Ό ν™μ©ν• κΈ°λ³Έ μ±— ν•¨μ(`services/ai_service.py`) κµ¬ν„
  - [ ] JSON ν¬λ§· κ°•μ  μ¶λ ¥μ„ μ„ν• Output Parser μ‘μ„±

- [ ] **2.2 νλ¥΄μ†λ‚ μ‹μ¤ν… ν”„λ΅¬ν”„νΈ κ΄€λ¦¬μ κµ¬μ„±**
  - [ ] `prompt_guide.md` μ „λ¬Έμ„ λ¶λ¬μ¬ ν”„λ΅¬ν”„νΈ ν…ν”λ¦Ώ ν©ν† λ¦¬ ν•¨μ μ‘μ„±
  - [ ] μ μ € μ…λ ¥ νμ‹± $\rightarrow$ NPC ν…μ¤νΈ μƒμ„± $\rightarrow$ μ‹μ¤ν… μ μ μ¶”μ¶ λ‹¨κ³„ νμ΄ν”„λΌμΈ μ™„μ„±

- [ ] **π¨ 2.3 [TEST] AI ν…μ¤νΈ μƒμ„± λ° JSON νμ‹± λ΅μ§ κ²©λ¦¬ ν…μ¤νΈ**
  - [ ] ν΄λΌμ΄μ–ΈνΈ μ—†μ΄ IDE μƒμ—μ„ `python test_ai.py` μ‹¤ν–‰
  - [ ] μ•„λ¦¬μ•„/μƒμΈ NPCκ°€ ν”„λ΅¬ν”„νΈ μ μ•½(κ°€λ“λ μΌ)μ„ μ§€ν‚¤κ³  μ •μƒμ μΈ JSON ν¬λ§·μ„ λ°ν™ν•λ”μ§€ LLM μ‘λ‹µ ν…μ¤νΈ

---

## β΅ Phase 3: μ‹¤μ‹κ°„ ν†µμ‹  λ° μ¤νΈλ¦¬λ° (Streaming)

- [ ] **3.1 WebSocket λ§¤λ‹μ € μΈν”„λΌ κµ¬μ¶•**
  - [ ] μ»¤λ„¥νΈ, λΈλ΅λ“μΊμ¤νΈ, λ””μ¤μ»¤λ„¥νΈλ¥Ό κ΄€λ¦¬ν•  `WebSocketConnectionManager` μ‘μ„±

- [ ] **3.2 μ¤νΈλ¦¬λ° λΌμ°ν„° λ¨λ“ κµ¬ν„ (WS)**
  - [ ] `WS /v1/stream/aria` & `WS /v1/stream/merchant` κµ¬ν„
  - [ ] LLMμ λΉ„λ™κΈ° μ¤νΈλ¦¬λ°(AsyncCallbackHandler) μ΄λ²¤νΈλ¥Ό κ°€λ΅μ±„μ„ λ‹¨μ–΄(Token) λ‹¨μ„ μ „μ†΅ λ΅μ§

- [ ] **π¨ 3.3 [TEST] WebSocket ν†µμ‹  λ° μ¤νΈλ¦¬λ° λ¨μ κ²€μ¦ (Mock Client)**
  - [ ] λ§μΈν¬λν”„νΈ ν΄λΌμ΄μ–ΈνΈκ°€ μ•„μ§ μ—†μΌλ―€λ΅ νμ΄μ¬ WS λ”λ―Έ μ¤ν¬λ¦½νΈ(`test_ws_client.py`) μ‘μ„±
  - [ ] ν•΄λ‹Ή μ¤ν¬λ¦½νΈλ¥Ό ν†µν•΄ ν…μ¤νΈκ°€ μ²­ν¬(Chunk) λ‹¨μ„λ΅ λκ²¨μ„ ν™”λ©΄μ— μ μμ‹ λλ”μ§€(μ¤νΈλ¦¬λ° μΎμ μ„±) λ° μΆ…λ£ JSON κ²€μ¦

---

## π“– Phase 4: RAG λ° CAG νμ΄ν”„λΌμΈ (Memory & Knowledge)

- [ ] **4.1 Vector DB ν”„λ΅ν† νƒ€μ΄ν•‘ μ„Έν… λ° μ§€μ‹(Lore) μ£Όμ… (CAG)**
  - [ ] Milvus/Pinecone λλ” λ΅μ»¬ ν™κ²½μ© ChromaDB μ—°λ™ (OpenAI Embeddings μ‚¬μ©)
  - [ ] `lore_book.md`μ λ‚΄μ©μ„ μ²­ν¬ λ‹¨μ„λ΅ λ¶„ν• ν•μ—¬ VectorDBμ— μΈμ„νΈν•λ” μΌνμ„± μ¤ν¬λ¦½νΈ μ‹¤ν–‰

- [ ] **4.2 ν”λ μ΄μ–΄ κΈ°μ–µ κ²€μƒ‰ λΌμ°ν„° (RAG)**
  - [ ] μ μ €μ λ€ν™”λ§λ‹¤ `memory_text`λ¥Ό λ°±κ·ΈλΌμ΄λ“ νƒμ¤ν¬λ΅ λ²΅ν„°λΌμ΄μ§•ν•μ—¬ DBμ— μ €μ¥
  - [ ] ν…λ„¤λΈλ¦¬μ¤(λ³΄μ¤) μ΅°μ° μ‹ μ μ‚¬λ„(Similarity) κΈ°λ° κ³Όκ±° μ •λ³΄ κ²€μƒ‰κΈ°(Retriever) κµ¬ν„

- [ ] **π¨ 4.3 [TEST] AI/RAG ν†µν•© λ¨μ κ²€μ¦**
  - [ ] νΉμ • λ”λ―Έ μ μ €μ λ°μ–Έμ„ 5κ° μ΄μƒ μ μ¬ ν›„, "κ°€λ””μ–Έ μ•½μ μ΄ λ­μ•Ό?" μ§λ¬Έ μ‹ CAG(λ΅μ–΄ λ¶) λ°μ΄ν„°λ¥Ό μ μ°Έκ³ ν•λ”μ§€ ν™•μΈ.
  - [ ] λ³΄μ¤ λ¨μ μ΅°μ° μ΄λ²¤νΈλ¥Ό μ΄μ„, μ μ €μ 'κ³Όκ±° λ°μ–Έ λ¦¬μ¤νΈ'κ°€ ν”„λ΅¬ν”„νΈμ— μ •ν™•ν μ£Όμ…λλ”μ§€ λ΅κ·Έ/CLI ν†µν•© ν…μ¤νΈ.

---

## β›οΈ Phase 5: Minecraft ν΄λΌμ΄μ–ΈνΈ μ—°λ™ λ° UI μ‹κ°ν™” (Fabric)

- [ ] **5.1 Fabric Mod λ΅λ” μ„Έν… λ° λ¨λ“ κµ¬μ¶•**
  - [ ] Java 17+ / Fabric API μ›ν¬μ¤νμ΄μ¤ κµ¬μ΅° λ° `build.gradle` μμ΅΄μ„±(WebSocket λ“±) κµ¬μ¶•
  - [ ] `HttpClient` λ΅κ·ΈμΈ μ¤νƒ― λ™κΈ°ν™” λ° API ν¨ν‚· μ „μ†΅ λ΅μ§ μ‘μ„±

- [ ] **5.2 μΈκ²μ„ GUI λ° μ¤νΈλ¦¬λ° μ‹κ°ν™” μ—°λ™**
  - [ ] **μ„±ν–¥ μ°½:** μνΌ λ™κΈ°ν™”(Sync Rate) λ° μ„±ν–¥μΉ(Alignment) GUI UI
  - [ ] **λ€ν™” λ λ”λ§:** μ•„λ¦¬μ•„ ν΄λ¦­ μ‹ `WebSocketClient` μ¤ν”, μ¤νΈλ¦¬λ° μ²­ν¬ μμ‹ ν•  λ•λ§λ‹¤ νƒ€μ΄ν•‘ ν¨κ³Όμ + μ¤λ²„λ μ΄ UI ν…μ¤νΈ μ—…λ°μ΄νΈ

- [ ] **5.3 ν•µμ‹¬ κΈ°λ―Ή(λ³΄μ¤, μ „λ¦¬ν’) ν›…ν‚Ή λ° ν†µμ‹ **
  - [ ] ν•λ“μ½”μ–΄ μ‚¬λ§, νΉμ • λΉ νƒ€κ²© μ‹ Mixin μ΄λ²¤νΈλ¥Ό ν†µν• μ„λ²„ ν†µμ‹  μ—°κ³„
  - [ ] μ‹ ν™”κΈ‰ μ „λ¦¬ν’(Mythic) νλ“ ν…μ¤νΈ νμ‹± ν΄ν & ν…λ„¤λΈλ¦¬μ¤μ λ¶‰μ€ κΈ€μ”¨ λ„λ° μ΄ν™νΈ μ μ©

- [ ] **π¨ 5.4 [TEST] μΈκ²μ„ μµμΆ… ν†µν•© E2E ν…μ¤νΈ (End-to-End Playtest)**
  - [ ] **λ΅μ»¬ ν…μ¤νΈ:** λ§μΈν¬λν”„νΈ ν΄λΌμ΄μ–ΈνΈλ¥Ό μ‹¤ν–‰ν•μ—¬ localhost FastAPI μ ‘μ†
  - [ ] μ‹¤μ  ν”λ μ΄μ–΄κ°€ μ•„λ¦¬μ•„μ™€ λ€ν™”ν•κ³ , μƒμ  ν• μΈμ„ ν¥μ •ν•λ©°, μλ„μ μΌλ΅ μ£½μ–΄λ³΄λ©΄μ„ λ°±μ—”λ“μ ν¨ν‚· μ†μ‹¤, ν‹±λ μ΄νΈ(TPS) μ§€μ—° μ λ¬΄ μ κ²€.
